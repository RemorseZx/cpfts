local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local fovRadius = 85 -- Baguhin kung gusto mo mas malaki/maliit

-- FOV Circle (optional)
local fovCircle = Drawing.new("Circle")
fovCircle.Thickness = 1
fovCircle.NumSides = 64
fovCircle.Filled = false
fovCircle.Transparency = 1
fovCircle.Color = Color3.fromRGB(255, 0, 0)
fovCircle.Visible = true -- Pwede mo i-set false kung ayaw mo makita
fovCircle.Radius = fovRadius

-- Kunin ang pinakamalapit na target sa loob ng FOV
local function getClosestTarget()
    local closestDist = math.huge
    local targetPart = nil
    local mousePos = UIS:GetMouseLocation()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local head = player.Character:FindFirstChild("Head")
            local hum = player.Character:FindFirstChildOfClass("Humanoid")
            if head and hum and hum.Health > 0 then
                local screenPos, onScreen = Camera:WorldToViewportPoint(head.Position)
                if onScreen then
                    local dist = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
                    if dist < closestDist and dist <= fovRadius then
                        closestDist = dist
                        targetPart = head
                    end
                end
            end
        end
    end
    return targetPart
end

-- Instant snap to target
local function snapToTarget(target)
    local screenPos = Camera:WorldToViewportPoint(target.Position)
    local mousePos = UIS:GetMouseLocation()
    local dx = screenPos.X - mousePos.X
    local dy = screenPos.Y - mousePos.Y
    mousemoverel(dx, dy) -- Instant move!
end

-- Main loop: AUTO AIMBOT (no right-click needed)
RunService.RenderStepped:Connect(function()
    fovCircle.Position = UIS:GetMouseLocation()
    
    local target = getClosestTarget()
    if target then
        snapToTarget(target) -- Awtomatikong susundan kahit walang right-click
    end
end)
